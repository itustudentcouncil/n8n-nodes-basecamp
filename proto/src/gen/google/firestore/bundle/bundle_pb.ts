// Copyright 2024 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//

// This file defines the format of Firestore bundle file/stream. It is not a part of the
// Firestore API, only a specification used by Server and Client SDK to write and read
// bundles.

// @generated by protoc-gen-es v2.1.0 with parameter "target=ts"
// @generated from file google/firestore/bundle/bundle.proto (package google.firestore.bundle, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv1";
import { enumDesc, fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv1";
import type { Document } from "../v1/document_pb";
import { file_google_firestore_v1_document } from "../v1/document_pb";
import type { StructuredQuery } from "../v1/query_pb";
import { file_google_firestore_v1_query } from "../v1/query_pb";
import type { Timestamp } from "@bufbuild/protobuf/wkt";
import { file_google_protobuf_timestamp } from "@bufbuild/protobuf/wkt";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file google/firestore/bundle/bundle.proto.
 */
export const file_google_firestore_bundle_bundle: GenFile = /*@__PURE__*/
  fileDesc("CiRnb29nbGUvZmlyZXN0b3JlL2J1bmRsZS9idW5kbGUucHJvdG8SF2dvb2dsZS5maXJlc3RvcmUuYnVuZGxlItUBCgxCdW5kbGVkUXVlcnkSDgoGcGFyZW50GAEgASgJEkAKEHN0cnVjdHVyZWRfcXVlcnkYAiABKAsyJC5nb29nbGUuZmlyZXN0b3JlLnYxLlN0cnVjdHVyZWRRdWVyeUgAEkMKCmxpbWl0X3R5cGUYAyABKA4yLy5nb29nbGUuZmlyZXN0b3JlLmJ1bmRsZS5CdW5kbGVkUXVlcnkuTGltaXRUeXBlIiAKCUxpbWl0VHlwZRIJCgVGSVJTVBAAEggKBExBU1QQAUIMCgpxdWVyeV90eXBlIocBCgpOYW1lZFF1ZXJ5EgwKBG5hbWUYASABKAkSPAoNYnVuZGxlZF9xdWVyeRgCIAEoCzIlLmdvb2dsZS5maXJlc3RvcmUuYnVuZGxlLkJ1bmRsZWRRdWVyeRItCglyZWFkX3RpbWUYAyABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIncKF0J1bmRsZWREb2N1bWVudE1ldGFkYXRhEgwKBG5hbWUYASABKAkSLQoJcmVhZF90aW1lGAIgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIOCgZleGlzdHMYAyABKAgSDwoHcXVlcmllcxgEIAMoCSKMAQoOQnVuZGxlTWV0YWRhdGESCgoCaWQYASABKAkSLwoLY3JlYXRlX3RpbWUYAiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEg8KB3ZlcnNpb24YAyABKA0SFwoPdG90YWxfZG9jdW1lbnRzGAQgASgNEhMKC3RvdGFsX2J5dGVzGAUgASgEIpoCCg1CdW5kbGVFbGVtZW50EjsKCG1ldGFkYXRhGAEgASgLMicuZ29vZ2xlLmZpcmVzdG9yZS5idW5kbGUuQnVuZGxlTWV0YWRhdGFIABI6CgtuYW1lZF9xdWVyeRgCIAEoCzIjLmdvb2dsZS5maXJlc3RvcmUuYnVuZGxlLk5hbWVkUXVlcnlIABJNChFkb2N1bWVudF9tZXRhZGF0YRgDIAEoCzIwLmdvb2dsZS5maXJlc3RvcmUuYnVuZGxlLkJ1bmRsZWREb2N1bWVudE1ldGFkYXRhSAASMQoIZG9jdW1lbnQYBCABKAsyHS5nb29nbGUuZmlyZXN0b3JlLnYxLkRvY3VtZW50SABCDgoMZWxlbWVudF90eXBlQpIBChtjb20uZ29vZ2xlLmZpcmVzdG9yZS5idW5kbGVCC0J1bmRsZVByb3RvUAFaNmNsb3VkLmdvb2dsZS5jb20vZ28vZmlyZXN0b3JlL2J1bmRsZS9idW5kbGVwYjtidW5kbGVwYqICBUZTVFBCqgIQRmlyZXN0b3JlLkJ1bmRsZcoCEEZpcmVzdG9yZVxCdW5kbGViBnByb3RvMw", [file_google_firestore_v1_document, file_google_firestore_v1_query, file_google_protobuf_timestamp]);

/**
 * Encodes a query saved in the bundle.
 *
 * @generated from message google.firestore.bundle.BundledQuery
 */
export type BundledQuery = Message<"google.firestore.bundle.BundledQuery"> & {
  /**
   * The parent resource name.
   *
   * @generated from field: string parent = 1;
   */
  parent: string;

  /**
   * The query to run.
   *
   * @generated from oneof google.firestore.bundle.BundledQuery.query_type
   */
  queryType: {
    /**
     * A structured query.
     *
     * @generated from field: google.firestore.v1.StructuredQuery structured_query = 2;
     */
    value: StructuredQuery;
    case: "structuredQuery";
  } | { case: undefined; value?: undefined };

  /**
   * @generated from field: google.firestore.bundle.BundledQuery.LimitType limit_type = 3;
   */
  limitType: BundledQuery_LimitType;
};

/**
 * Describes the message google.firestore.bundle.BundledQuery.
 * Use `create(BundledQuerySchema)` to create a new message.
 */
export const BundledQuerySchema: GenMessage<BundledQuery> = /*@__PURE__*/
  messageDesc(file_google_firestore_bundle_bundle, 0);

/**
 * If the query is a limit query, should the limit be applied to the beginning or
 * the end of results.
 *
 * @generated from enum google.firestore.bundle.BundledQuery.LimitType
 */
export enum BundledQuery_LimitType {
  /**
   * @generated from enum value: FIRST = 0;
   */
  FIRST = 0,

  /**
   * @generated from enum value: LAST = 1;
   */
  LAST = 1,
}

/**
 * Describes the enum google.firestore.bundle.BundledQuery.LimitType.
 */
export const BundledQuery_LimitTypeSchema: GenEnum<BundledQuery_LimitType> = /*@__PURE__*/
  enumDesc(file_google_firestore_bundle_bundle, 0, 0);

/**
 * A Query associated with a name, created as part of the bundle file, and can be read
 * by client SDKs once the bundle containing them is loaded.
 *
 * @generated from message google.firestore.bundle.NamedQuery
 */
export type NamedQuery = Message<"google.firestore.bundle.NamedQuery"> & {
  /**
   * Name of the query, such that client can use the name to load this query
   * from bundle, and resume from when the query results are materialized
   * into this bundle.
   *
   * @generated from field: string name = 1;
   */
  name: string;

  /**
   * The query saved in the bundle.
   *
   * @generated from field: google.firestore.bundle.BundledQuery bundled_query = 2;
   */
  bundledQuery?: BundledQuery;

  /**
   * The read time of the query, when it is used to build the bundle. This is useful to
   * resume the query from the bundle, once it is loaded by client SDKs.
   *
   * @generated from field: google.protobuf.Timestamp read_time = 3;
   */
  readTime?: Timestamp;
};

/**
 * Describes the message google.firestore.bundle.NamedQuery.
 * Use `create(NamedQuerySchema)` to create a new message.
 */
export const NamedQuerySchema: GenMessage<NamedQuery> = /*@__PURE__*/
  messageDesc(file_google_firestore_bundle_bundle, 1);

/**
 * Metadata describing a Firestore document saved in the bundle.
 *
 * @generated from message google.firestore.bundle.BundledDocumentMetadata
 */
export type BundledDocumentMetadata = Message<"google.firestore.bundle.BundledDocumentMetadata"> & {
  /**
   * The document key of a bundled document.
   *
   * @generated from field: string name = 1;
   */
  name: string;

  /**
   * The snapshot version of the document data bundled.
   *
   * @generated from field: google.protobuf.Timestamp read_time = 2;
   */
  readTime?: Timestamp;

  /**
   * Whether the document exists.
   *
   * @generated from field: bool exists = 3;
   */
  exists: boolean;

  /**
   * The names of the queries in this bundle that this document matches to.
   *
   * @generated from field: repeated string queries = 4;
   */
  queries: string[];
};

/**
 * Describes the message google.firestore.bundle.BundledDocumentMetadata.
 * Use `create(BundledDocumentMetadataSchema)` to create a new message.
 */
export const BundledDocumentMetadataSchema: GenMessage<BundledDocumentMetadata> = /*@__PURE__*/
  messageDesc(file_google_firestore_bundle_bundle, 2);

/**
 * Metadata describing the bundle file/stream.
 *
 * @generated from message google.firestore.bundle.BundleMetadata
 */
export type BundleMetadata = Message<"google.firestore.bundle.BundleMetadata"> & {
  /**
   * The ID of the bundle.
   *
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * Time at which the documents snapshot is taken for this bundle.
   *
   * @generated from field: google.protobuf.Timestamp create_time = 2;
   */
  createTime?: Timestamp;

  /**
   * The schema version of the bundle.
   *
   * @generated from field: uint32 version = 3;
   */
  version: number;

  /**
   * The number of documents in the bundle.
   *
   * @generated from field: uint32 total_documents = 4;
   */
  totalDocuments: number;

  /**
   * The size of the bundle in bytes, excluding this `BundleMetadata`.
   *
   * @generated from field: uint64 total_bytes = 5;
   */
  totalBytes: bigint;
};

/**
 * Describes the message google.firestore.bundle.BundleMetadata.
 * Use `create(BundleMetadataSchema)` to create a new message.
 */
export const BundleMetadataSchema: GenMessage<BundleMetadata> = /*@__PURE__*/
  messageDesc(file_google_firestore_bundle_bundle, 3);

/**
 * A Firestore bundle is a length-prefixed stream of JSON representations of
 * `BundleElement`.
 * Only one `BundleMetadata` is expected, and it should be the first element.
 * The named queries follow after `metadata`. Every `document_metadata` is
 * immediately followed by a `document`.
 *
 * @generated from message google.firestore.bundle.BundleElement
 */
export type BundleElement = Message<"google.firestore.bundle.BundleElement"> & {
  /**
   * @generated from oneof google.firestore.bundle.BundleElement.element_type
   */
  elementType: {
    /**
     * @generated from field: google.firestore.bundle.BundleMetadata metadata = 1;
     */
    value: BundleMetadata;
    case: "metadata";
  } | {
    /**
     * @generated from field: google.firestore.bundle.NamedQuery named_query = 2;
     */
    value: NamedQuery;
    case: "namedQuery";
  } | {
    /**
     * @generated from field: google.firestore.bundle.BundledDocumentMetadata document_metadata = 3;
     */
    value: BundledDocumentMetadata;
    case: "documentMetadata";
  } | {
    /**
     * @generated from field: google.firestore.v1.Document document = 4;
     */
    value: Document;
    case: "document";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message google.firestore.bundle.BundleElement.
 * Use `create(BundleElementSchema)` to create a new message.
 */
export const BundleElementSchema: GenMessage<BundleElement> = /*@__PURE__*/
  messageDesc(file_google_firestore_bundle_bundle, 4);


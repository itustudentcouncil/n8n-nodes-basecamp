// Copyright 2024 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// @generated by protoc-gen-es v2.1.0 with parameter "target=ts"
// @generated from file google/cloud/discoveryengine/v1/recommendation_service.proto (package google.cloud.discoveryengine.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv1";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv1";
import { file_google_api_annotations } from "../../../api/annotations_pb";
import { file_google_api_client } from "../../../api/client_pb";
import { file_google_api_field_behavior } from "../../../api/field_behavior_pb";
import { file_google_api_resource } from "../../../api/resource_pb";
import type { Document } from "./document_pb";
import { file_google_cloud_discoveryengine_v1_document } from "./document_pb";
import type { UserEvent } from "./user_event_pb";
import { file_google_cloud_discoveryengine_v1_user_event } from "./user_event_pb";
import type { Value } from "@bufbuild/protobuf/wkt";
import { file_google_protobuf_struct } from "@bufbuild/protobuf/wkt";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file google/cloud/discoveryengine/v1/recommendation_service.proto.
 */
export const file_google_cloud_discoveryengine_v1_recommendation_service: GenFile = /*@__PURE__*/
  fileDesc("Cjxnb29nbGUvY2xvdWQvZGlzY292ZXJ5ZW5naW5lL3YxL3JlY29tbWVuZGF0aW9uX3NlcnZpY2UucHJvdG8SH2dvb2dsZS5jbG91ZC5kaXNjb3ZlcnllbmdpbmUudjEigAQKEFJlY29tbWVuZFJlcXVlc3QSTAoOc2VydmluZ19jb25maWcYASABKAlCNOBBAvpBLgosZGlzY292ZXJ5ZW5naW5lLmdvb2dsZWFwaXMuY29tL1NlcnZpbmdDb25maWcSQwoKdXNlcl9ldmVudBgCIAEoCzIqLmdvb2dsZS5jbG91ZC5kaXNjb3ZlcnllbmdpbmUudjEuVXNlckV2ZW50QgPgQQISEQoJcGFnZV9zaXplGAMgASgFEg4KBmZpbHRlchgEIAEoCRIVCg12YWxpZGF0ZV9vbmx5GAUgASgIEk0KBnBhcmFtcxgGIAMoCzI9Lmdvb2dsZS5jbG91ZC5kaXNjb3ZlcnllbmdpbmUudjEuUmVjb21tZW5kUmVxdWVzdC5QYXJhbXNFbnRyeRJWCgt1c2VyX2xhYmVscxgIIAMoCzJBLmdvb2dsZS5jbG91ZC5kaXNjb3ZlcnllbmdpbmUudjEuUmVjb21tZW5kUmVxdWVzdC5Vc2VyTGFiZWxzRW50cnkaRQoLUGFyYW1zRW50cnkSCwoDa2V5GAEgASgJEiUKBXZhbHVlGAIgASgLMhYuZ29vZ2xlLnByb3RvYnVmLlZhbHVlOgI4ARoxCg9Vc2VyTGFiZWxzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASLIAwoRUmVjb21tZW5kUmVzcG9uc2USWAoHcmVzdWx0cxgBIAMoCzJHLmdvb2dsZS5jbG91ZC5kaXNjb3ZlcnllbmdpbmUudjEuUmVjb21tZW5kUmVzcG9uc2UuUmVjb21tZW5kYXRpb25SZXN1bHQSGQoRYXR0cmlidXRpb25fdG9rZW4YAiABKAkSEwoLbWlzc2luZ19pZHMYAyADKAkSFQoNdmFsaWRhdGVfb25seRgEIAEoCBqRAgoUUmVjb21tZW5kYXRpb25SZXN1bHQSCgoCaWQYASABKAkSOwoIZG9jdW1lbnQYAiABKAsyKS5nb29nbGUuY2xvdWQuZGlzY292ZXJ5ZW5naW5lLnYxLkRvY3VtZW50EmcKCG1ldGFkYXRhGAMgAygLMlUuZ29vZ2xlLmNsb3VkLmRpc2NvdmVyeWVuZ2luZS52MS5SZWNvbW1lbmRSZXNwb25zZS5SZWNvbW1lbmRhdGlvblJlc3VsdC5NZXRhZGF0YUVudHJ5GkcKDU1ldGFkYXRhRW50cnkSCwoDa2V5GAEgASgJEiUKBXZhbHVlGAIgASgLMhYuZ29vZ2xlLnByb3RvYnVmLlZhbHVlOgI4ATKPBAoVUmVjb21tZW5kYXRpb25TZXJ2aWNlEqEDCglSZWNvbW1lbmQSMS5nb29nbGUuY2xvdWQuZGlzY292ZXJ5ZW5naW5lLnYxLlJlY29tbWVuZFJlcXVlc3QaMi5nb29nbGUuY2xvdWQuZGlzY292ZXJ5ZW5naW5lLnYxLlJlY29tbWVuZFJlc3BvbnNlIqwCgtPkkwKlAjoBKlpmOgEqImEvdjEve3NlcnZpbmdfY29uZmlnPXByb2plY3RzLyovbG9jYXRpb25zLyovY29sbGVjdGlvbnMvKi9kYXRhU3RvcmVzLyovc2VydmluZ0NvbmZpZ3MvKn06cmVjb21tZW5kWmM6ASoiXi92MS97c2VydmluZ19jb25maWc9cHJvamVjdHMvKi9sb2NhdGlvbnMvKi9jb2xsZWN0aW9ucy8qL2VuZ2luZXMvKi9zZXJ2aW5nQ29uZmlncy8qfTpyZWNvbW1lbmQiUy92MS97c2VydmluZ19jb25maWc9cHJvamVjdHMvKi9sb2NhdGlvbnMvKi9kYXRhU3RvcmVzLyovc2VydmluZ0NvbmZpZ3MvKn06cmVjb21tZW5kGlLKQR5kaXNjb3ZlcnllbmdpbmUuZ29vZ2xlYXBpcy5jb23SQS5odHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2Nsb3VkLXBsYXRmb3JtQo0CCiNjb20uZ29vZ2xlLmNsb3VkLmRpc2NvdmVyeWVuZ2luZS52MUIaUmVjb21tZW5kYXRpb25TZXJ2aWNlUHJvdG9QAVpNY2xvdWQuZ29vZ2xlLmNvbS9nby9kaXNjb3ZlcnllbmdpbmUvYXBpdjEvZGlzY292ZXJ5ZW5naW5lcGI7ZGlzY292ZXJ5ZW5naW5lcGKiAg9ESVNDT1ZFUllFTkdJTkWqAh9Hb29nbGUuQ2xvdWQuRGlzY292ZXJ5RW5naW5lLlYxygIfR29vZ2xlXENsb3VkXERpc2NvdmVyeUVuZ2luZVxWMeoCIkdvb2dsZTo6Q2xvdWQ6OkRpc2NvdmVyeUVuZ2luZTo6VjFiBnByb3RvMw", [file_google_api_annotations, file_google_api_client, file_google_api_field_behavior, file_google_api_resource, file_google_cloud_discoveryengine_v1_document, file_google_cloud_discoveryengine_v1_user_event, file_google_protobuf_struct]);

/**
 * Request message for Recommend method.
 *
 * @generated from message google.cloud.discoveryengine.v1.RecommendRequest
 */
export type RecommendRequest = Message<"google.cloud.discoveryengine.v1.RecommendRequest"> & {
  /**
   * Required. Full resource name of a
   * [ServingConfig][google.cloud.discoveryengine.v1.ServingConfig]:
   * `projects/*\/locations/global/collections/*\/engines/*\/servingConfigs/*`, or
   * `projects/*\/locations/global/collections/*\/dataStores/*\/servingConfigs/*`
   *
   * One default serving config is created along with your recommendation engine
   * creation. The engine ID is used as the ID of the default serving
   * config. For example, for Engine
   * `projects/*\/locations/global/collections/*\/engines/my-engine`, you can use
   * `projects/*\/locations/global/collections/*\/engines/my-engine/servingConfigs/my-engine`
   * for your
   * [RecommendationService.Recommend][google.cloud.discoveryengine.v1.RecommendationService.Recommend]
   * requests.
   *
   * @generated from field: string serving_config = 1;
   */
  servingConfig: string;

  /**
   * Required. Context about the user, what they are looking at and what action
   * they took to trigger the Recommend request. Note that this user event
   * detail won't be ingested to userEvent logs. Thus, a separate userEvent
   * write request is required for event logging.
   *
   * Don't set
   * [UserEvent.user_pseudo_id][google.cloud.discoveryengine.v1.UserEvent.user_pseudo_id]
   * or
   * [UserEvent.user_info.user_id][google.cloud.discoveryengine.v1.UserInfo.user_id]
   * to the same fixed ID for different users. If you are trying to receive
   * non-personalized recommendations (not recommended; this can negatively
   * impact model performance), instead set
   * [UserEvent.user_pseudo_id][google.cloud.discoveryengine.v1.UserEvent.user_pseudo_id]
   * to a random unique ID and leave
   * [UserEvent.user_info.user_id][google.cloud.discoveryengine.v1.UserInfo.user_id]
   * unset.
   *
   * @generated from field: google.cloud.discoveryengine.v1.UserEvent user_event = 2;
   */
  userEvent?: UserEvent;

  /**
   * Maximum number of results to return. Set this property
   * to the number of recommendation results needed. If zero, the service
   * chooses a reasonable default. The maximum allowed value is 100. Values
   * above 100 are set to 100.
   *
   * @generated from field: int32 page_size = 3;
   */
  pageSize: number;

  /**
   * Filter for restricting recommendation results with a length limit of 5,000
   * characters. Currently, only filter expressions on the `filter_tags`
   * attribute is supported.
   *
   *
   * Examples:
   *
   *  * `(filter_tags: ANY("Red", "Blue") OR filter_tags: ANY("Hot", "Cold"))`
   *  * `(filter_tags: ANY("Red", "Blue")) AND NOT (filter_tags: ANY("Green"))`
   *
   * If `attributeFilteringSyntax` is set to true under the `params` field, then
   * attribute-based expressions are expected instead of the above described
   * tag-based syntax. Examples:
   *
   *  * (launguage: ANY("en", "es")) AND NOT (categories: ANY("Movie"))
   *  * (available: true) AND
   *    (launguage: ANY("en", "es")) OR (categories: ANY("Movie"))
   *
   * If your filter blocks all results, the API returns generic
   * (unfiltered) popular Documents. If you only want results strictly matching
   * the filters, set `strictFiltering` to `true` in
   * [RecommendRequest.params][google.cloud.discoveryengine.v1.RecommendRequest.params]
   * to receive empty results instead.
   *
   * Note that the API never returns
   * [Document][google.cloud.discoveryengine.v1.Document]s with `storageStatus`
   * as `EXPIRED` or `DELETED` regardless of filter choices.
   *
   * @generated from field: string filter = 4;
   */
  filter: string;

  /**
   * Use validate only mode for this recommendation query. If set to `true`, a
   * fake model is used that returns arbitrary Document IDs.
   * Note that the validate only mode should only be used for testing the API,
   * or if the model is not ready.
   *
   * @generated from field: bool validate_only = 5;
   */
  validateOnly: boolean;

  /**
   * Additional domain specific parameters for the recommendations.
   *
   * Allowed values:
   *
   * * `returnDocument`: Boolean. If set to `true`, the associated Document
   *    object is returned in
   *    [RecommendResponse.RecommendationResult.document][google.cloud.discoveryengine.v1.RecommendResponse.RecommendationResult.document].
   * * `returnScore`: Boolean. If set to true, the recommendation score
   *    corresponding to each returned Document is set in
   *    [RecommendResponse.RecommendationResult.metadata][google.cloud.discoveryengine.v1.RecommendResponse.RecommendationResult.metadata].
   *    The given score indicates the probability of a Document conversion given
   *    the user's context and history.
   * * `strictFiltering`: Boolean. True by default. If set to `false`, the
   * service
   *    returns generic (unfiltered) popular Documents instead of empty if
   *    your filter blocks all recommendation results.
   * * `diversityLevel`: String. Default empty. If set to be non-empty, then
   *    it needs to be one of:
   *     *  `no-diversity`
   *     *  `low-diversity`
   *     *  `medium-diversity`
   *     *  `high-diversity`
   *     *  `auto-diversity`
   *    This gives request-level control and adjusts recommendation results
   *    based on Document category.
   * * `attributeFilteringSyntax`: Boolean. False by default. If set to true,
   *    the `filter` field is interpreted according to the new,
   *    attribute-based syntax.
   *
   * @generated from field: map<string, google.protobuf.Value> params = 6;
   */
  params: { [key: string]: Value };

  /**
   * The user labels applied to a resource must meet the following requirements:
   *
   * * Each resource can have multiple labels, up to a maximum of 64.
   * * Each label must be a key-value pair.
   * * Keys have a minimum length of 1 character and a maximum length of 63
   *   characters and cannot be empty. Values can be empty and have a maximum
   *   length of 63 characters.
   * * Keys and values can contain only lowercase letters, numeric characters,
   *   underscores, and dashes. All characters must use UTF-8 encoding, and
   *   international characters are allowed.
   * * The key portion of a label must be unique. However, you can use the same
   *   key with multiple resources.
   * * Keys must start with a lowercase letter or international character.
   *
   * See [Requirements for
   * labels](https://cloud.google.com/resource-manager/docs/creating-managing-labels#requirements)
   * for more details.
   *
   * @generated from field: map<string, string> user_labels = 8;
   */
  userLabels: { [key: string]: string };
};

/**
 * Describes the message google.cloud.discoveryengine.v1.RecommendRequest.
 * Use `create(RecommendRequestSchema)` to create a new message.
 */
export const RecommendRequestSchema: GenMessage<RecommendRequest> = /*@__PURE__*/
  messageDesc(file_google_cloud_discoveryengine_v1_recommendation_service, 0);

/**
 * Response message for Recommend method.
 *
 * @generated from message google.cloud.discoveryengine.v1.RecommendResponse
 */
export type RecommendResponse = Message<"google.cloud.discoveryengine.v1.RecommendResponse"> & {
  /**
   * A list of recommended Documents. The order represents the ranking (from the
   * most relevant Document to the least).
   *
   * @generated from field: repeated google.cloud.discoveryengine.v1.RecommendResponse.RecommendationResult results = 1;
   */
  results: RecommendResponse_RecommendationResult[];

  /**
   * A unique attribution token. This should be included in the
   * [UserEvent][google.cloud.discoveryengine.v1.UserEvent] logs resulting from
   * this recommendation, which enables accurate attribution of recommendation
   * model performance.
   *
   * @generated from field: string attribution_token = 2;
   */
  attributionToken: string;

  /**
   * IDs of documents in the request that were missing from the default Branch
   * associated with the requested ServingConfig.
   *
   * @generated from field: repeated string missing_ids = 3;
   */
  missingIds: string[];

  /**
   * True if
   * [RecommendRequest.validate_only][google.cloud.discoveryengine.v1.RecommendRequest.validate_only]
   * was set.
   *
   * @generated from field: bool validate_only = 4;
   */
  validateOnly: boolean;
};

/**
 * Describes the message google.cloud.discoveryengine.v1.RecommendResponse.
 * Use `create(RecommendResponseSchema)` to create a new message.
 */
export const RecommendResponseSchema: GenMessage<RecommendResponse> = /*@__PURE__*/
  messageDesc(file_google_cloud_discoveryengine_v1_recommendation_service, 1);

/**
 * RecommendationResult represents a generic recommendation result with
 * associated metadata.
 *
 * @generated from message google.cloud.discoveryengine.v1.RecommendResponse.RecommendationResult
 */
export type RecommendResponse_RecommendationResult = Message<"google.cloud.discoveryengine.v1.RecommendResponse.RecommendationResult"> & {
  /**
   * Resource ID of the recommended Document.
   *
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * Set if `returnDocument` is set to true in
   * [RecommendRequest.params][google.cloud.discoveryengine.v1.RecommendRequest.params].
   *
   * @generated from field: google.cloud.discoveryengine.v1.Document document = 2;
   */
  document?: Document;

  /**
   * Additional Document metadata or annotations.
   *
   * Possible values:
   *
   * * `score`: Recommendation score in double value. Is set if
   *   `returnScore` is set to true in
   *   [RecommendRequest.params][google.cloud.discoveryengine.v1.RecommendRequest.params].
   *
   * @generated from field: map<string, google.protobuf.Value> metadata = 3;
   */
  metadata: { [key: string]: Value };
};

/**
 * Describes the message google.cloud.discoveryengine.v1.RecommendResponse.RecommendationResult.
 * Use `create(RecommendResponse_RecommendationResultSchema)` to create a new message.
 */
export const RecommendResponse_RecommendationResultSchema: GenMessage<RecommendResponse_RecommendationResult> = /*@__PURE__*/
  messageDesc(file_google_cloud_discoveryengine_v1_recommendation_service, 1, 0);

/**
 * Service for making recommendations.
 *
 * @generated from service google.cloud.discoveryengine.v1.RecommendationService
 */
export const RecommendationService: GenService<{
  /**
   * Makes a recommendation, which requires a contextual user event.
   *
   * @generated from rpc google.cloud.discoveryengine.v1.RecommendationService.Recommend
   */
  recommend: {
    methodKind: "unary";
    input: typeof RecommendRequestSchema;
    output: typeof RecommendResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_google_cloud_discoveryengine_v1_recommendation_service, 0);


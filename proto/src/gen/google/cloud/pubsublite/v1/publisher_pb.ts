// Copyright 2024 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// @generated by protoc-gen-es v2.1.0 with parameter "target=ts"
// @generated from file google/cloud/pubsublite/v1/publisher.proto (package google.cloud.pubsublite.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv1";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv1";
import { file_google_api_annotations } from "../../../api/annotations_pb";
import { file_google_api_client } from "../../../api/client_pb";
import type { Cursor, PubSubMessage } from "./common_pb";
import { file_google_cloud_pubsublite_v1_common } from "./common_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file google/cloud/pubsublite/v1/publisher.proto.
 */
export const file_google_cloud_pubsublite_v1_publisher: GenFile = /*@__PURE__*/
  fileDesc("Cipnb29nbGUvY2xvdWQvcHVic3VibGl0ZS92MS9wdWJsaXNoZXIucHJvdG8SGmdvb2dsZS5jbG91ZC5wdWJzdWJsaXRlLnYxIkwKFUluaXRpYWxQdWJsaXNoUmVxdWVzdBINCgV0b3BpYxgBIAEoCRIRCglwYXJ0aXRpb24YAiABKAMSEQoJY2xpZW50X2lkGAMgASgMIhgKFkluaXRpYWxQdWJsaXNoUmVzcG9uc2UicwoVTWVzc2FnZVB1Ymxpc2hSZXF1ZXN0EjsKCG1lc3NhZ2VzGAEgAygLMikuZ29vZ2xlLmNsb3VkLnB1YnN1YmxpdGUudjEuUHViU3ViTWVzc2FnZRIdChVmaXJzdF9zZXF1ZW5jZV9udW1iZXIYAiABKAMimgIKFk1lc3NhZ2VQdWJsaXNoUmVzcG9uc2USOAoMc3RhcnRfY3Vyc29yGAEgASgLMiIuZ29vZ2xlLmNsb3VkLnB1YnN1YmxpdGUudjEuQ3Vyc29yElUKDWN1cnNvcl9yYW5nZXMYAiADKAsyPi5nb29nbGUuY2xvdWQucHVic3VibGl0ZS52MS5NZXNzYWdlUHVibGlzaFJlc3BvbnNlLkN1cnNvclJhbmdlGm8KC0N1cnNvclJhbmdlEjgKDHN0YXJ0X2N1cnNvchgBIAEoCzIiLmdvb2dsZS5jbG91ZC5wdWJzdWJsaXRlLnYxLkN1cnNvchITCgtzdGFydF9pbmRleBgCIAEoBRIRCgllbmRfaW5kZXgYAyABKAUixAEKDlB1Ymxpc2hSZXF1ZXN0EkwKD2luaXRpYWxfcmVxdWVzdBgBIAEoCzIxLmdvb2dsZS5jbG91ZC5wdWJzdWJsaXRlLnYxLkluaXRpYWxQdWJsaXNoUmVxdWVzdEgAElQKF21lc3NhZ2VfcHVibGlzaF9yZXF1ZXN0GAIgASgLMjEuZ29vZ2xlLmNsb3VkLnB1YnN1YmxpdGUudjEuTWVzc2FnZVB1Ymxpc2hSZXF1ZXN0SABCDgoMcmVxdWVzdF90eXBlIsIBCg9QdWJsaXNoUmVzcG9uc2USTgoQaW5pdGlhbF9yZXNwb25zZRgBIAEoCzIyLmdvb2dsZS5jbG91ZC5wdWJzdWJsaXRlLnYxLkluaXRpYWxQdWJsaXNoUmVzcG9uc2VIABJOChBtZXNzYWdlX3Jlc3BvbnNlGAIgASgLMjIuZ29vZ2xlLmNsb3VkLnB1YnN1YmxpdGUudjEuTWVzc2FnZVB1Ymxpc2hSZXNwb25zZUgAQg8KDXJlc3BvbnNlX3R5cGUyywEKEFB1Ymxpc2hlclNlcnZpY2USaAoHUHVibGlzaBIqLmdvb2dsZS5jbG91ZC5wdWJzdWJsaXRlLnYxLlB1Ymxpc2hSZXF1ZXN0GisuZ29vZ2xlLmNsb3VkLnB1YnN1YmxpdGUudjEuUHVibGlzaFJlc3BvbnNlIgAoATABGk3KQRlwdWJzdWJsaXRlLmdvb2dsZWFwaXMuY29t0kEuaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9jbG91ZC1wbGF0Zm9ybULSAQohY29tLmdvb2dsZS5jbG91ZC5wdWJzdWJsaXRlLnByb3RvQg5QdWJsaXNoZXJQcm90b1ABWj5jbG91ZC5nb29nbGUuY29tL2dvL3B1YnN1YmxpdGUvYXBpdjEvcHVic3VibGl0ZXBiO3B1YnN1YmxpdGVwYvgBAaoCGkdvb2dsZS5DbG91ZC5QdWJTdWJMaXRlLlYxygIaR29vZ2xlXENsb3VkXFB1YlN1YkxpdGVcVjHqAh1Hb29nbGU6OkNsb3VkOjpQdWJTdWJMaXRlOjpWMWIGcHJvdG8z", [file_google_api_annotations, file_google_api_client, file_google_cloud_pubsublite_v1_common]);

/**
 * The first request that must be sent on a newly-opened stream.
 *
 * @generated from message google.cloud.pubsublite.v1.InitialPublishRequest
 */
export type InitialPublishRequest = Message<"google.cloud.pubsublite.v1.InitialPublishRequest"> & {
  /**
   * The topic to which messages will be written.
   *
   * @generated from field: string topic = 1;
   */
  topic: string;

  /**
   * The partition within the topic to which messages will be written.
   * Partitions are zero indexed, so `partition` must be in the range [0,
   * topic.num_partitions).
   *
   * @generated from field: int64 partition = 2;
   */
  partition: bigint;

  /**
   * Unique identifier for a publisher client. If set, enables publish
   * idempotency within a publisher client session.
   *
   * The length of this field must be exactly 16 bytes long and should be
   * populated with a 128 bit uuid, generated by standard uuid algorithms like
   * uuid1 or uuid4. The same identifier should be reused following
   * disconnections with retryable stream errors.
   *
   * @generated from field: bytes client_id = 3;
   */
  clientId: Uint8Array;
};

/**
 * Describes the message google.cloud.pubsublite.v1.InitialPublishRequest.
 * Use `create(InitialPublishRequestSchema)` to create a new message.
 */
export const InitialPublishRequestSchema: GenMessage<InitialPublishRequest> = /*@__PURE__*/
  messageDesc(file_google_cloud_pubsublite_v1_publisher, 0);

/**
 * Response to an InitialPublishRequest.
 *
 * @generated from message google.cloud.pubsublite.v1.InitialPublishResponse
 */
export type InitialPublishResponse = Message<"google.cloud.pubsublite.v1.InitialPublishResponse"> & {
};

/**
 * Describes the message google.cloud.pubsublite.v1.InitialPublishResponse.
 * Use `create(InitialPublishResponseSchema)` to create a new message.
 */
export const InitialPublishResponseSchema: GenMessage<InitialPublishResponse> = /*@__PURE__*/
  messageDesc(file_google_cloud_pubsublite_v1_publisher, 1);

/**
 * Request to publish messages to the topic.
 *
 * @generated from message google.cloud.pubsublite.v1.MessagePublishRequest
 */
export type MessagePublishRequest = Message<"google.cloud.pubsublite.v1.MessagePublishRequest"> & {
  /**
   * The messages to publish.
   *
   * @generated from field: repeated google.cloud.pubsublite.v1.PubSubMessage messages = 1;
   */
  messages: PubSubMessage[];

  /**
   * The sequence number corresponding to the first message in `messages`.
   * Messages within a batch are ordered and the sequence numbers of all
   * subsequent messages in the batch are assumed to be incremental.
   *
   * Sequence numbers are assigned at the message level and the first message
   * published in a publisher client session must have a sequence number of 0.
   * All messages must have contiguous sequence numbers, which uniquely identify
   * the messages accepted by the publisher client. Since messages are ordered,
   * the client only needs to specify the sequence number of the first message
   * in a published batch. The server deduplicates messages with the same
   * sequence number from the same publisher `client_id`.
   *
   * @generated from field: int64 first_sequence_number = 2;
   */
  firstSequenceNumber: bigint;
};

/**
 * Describes the message google.cloud.pubsublite.v1.MessagePublishRequest.
 * Use `create(MessagePublishRequestSchema)` to create a new message.
 */
export const MessagePublishRequestSchema: GenMessage<MessagePublishRequest> = /*@__PURE__*/
  messageDesc(file_google_cloud_pubsublite_v1_publisher, 2);

/**
 * Response to a MessagePublishRequest.
 *
 * @generated from message google.cloud.pubsublite.v1.MessagePublishResponse
 */
export type MessagePublishResponse = Message<"google.cloud.pubsublite.v1.MessagePublishResponse"> & {
  /**
   * The cursor of the first published message in the batch. The cursors for any
   * remaining messages in the batch are guaranteed to be sequential.
   *
   * @generated from field: google.cloud.pubsublite.v1.Cursor start_cursor = 1;
   */
  startCursor?: Cursor;

  /**
   * Cursors for messages published in the batch. There will exist multiple
   * ranges when cursors are not contiguous within the batch.
   *
   * The cursor ranges may not account for all messages in the batch when
   * publish idempotency is enabled. A missing range indicates that cursors
   * could not be determined for messages within the range, as they were
   * deduplicated and the necessary data was not available at publish time.
   * These messages will have offsets when received by a subscriber.
   *
   * @generated from field: repeated google.cloud.pubsublite.v1.MessagePublishResponse.CursorRange cursor_ranges = 2;
   */
  cursorRanges: MessagePublishResponse_CursorRange[];
};

/**
 * Describes the message google.cloud.pubsublite.v1.MessagePublishResponse.
 * Use `create(MessagePublishResponseSchema)` to create a new message.
 */
export const MessagePublishResponseSchema: GenMessage<MessagePublishResponse> = /*@__PURE__*/
  messageDesc(file_google_cloud_pubsublite_v1_publisher, 3);

/**
 * Cursors for a subrange of published messages.
 *
 * @generated from message google.cloud.pubsublite.v1.MessagePublishResponse.CursorRange
 */
export type MessagePublishResponse_CursorRange = Message<"google.cloud.pubsublite.v1.MessagePublishResponse.CursorRange"> & {
  /**
   * The cursor of the message at the start index. The cursors for remaining
   * messages up to the end index (exclusive) are sequential.
   *
   * @generated from field: google.cloud.pubsublite.v1.Cursor start_cursor = 1;
   */
  startCursor?: Cursor;

  /**
   * Index of the message in the published batch that corresponds to the
   * start cursor. Inclusive.
   *
   * @generated from field: int32 start_index = 2;
   */
  startIndex: number;

  /**
   * Index of the last message in this range. Exclusive.
   *
   * @generated from field: int32 end_index = 3;
   */
  endIndex: number;
};

/**
 * Describes the message google.cloud.pubsublite.v1.MessagePublishResponse.CursorRange.
 * Use `create(MessagePublishResponse_CursorRangeSchema)` to create a new message.
 */
export const MessagePublishResponse_CursorRangeSchema: GenMessage<MessagePublishResponse_CursorRange> = /*@__PURE__*/
  messageDesc(file_google_cloud_pubsublite_v1_publisher, 3, 0);

/**
 * Request sent from the client to the server on a stream.
 *
 * @generated from message google.cloud.pubsublite.v1.PublishRequest
 */
export type PublishRequest = Message<"google.cloud.pubsublite.v1.PublishRequest"> & {
  /**
   * The type of request this is.
   *
   * @generated from oneof google.cloud.pubsublite.v1.PublishRequest.request_type
   */
  requestType: {
    /**
     * Initial request on the stream.
     *
     * @generated from field: google.cloud.pubsublite.v1.InitialPublishRequest initial_request = 1;
     */
    value: InitialPublishRequest;
    case: "initialRequest";
  } | {
    /**
     * Request to publish messages.
     *
     * @generated from field: google.cloud.pubsublite.v1.MessagePublishRequest message_publish_request = 2;
     */
    value: MessagePublishRequest;
    case: "messagePublishRequest";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message google.cloud.pubsublite.v1.PublishRequest.
 * Use `create(PublishRequestSchema)` to create a new message.
 */
export const PublishRequestSchema: GenMessage<PublishRequest> = /*@__PURE__*/
  messageDesc(file_google_cloud_pubsublite_v1_publisher, 4);

/**
 * Response to a PublishRequest.
 *
 * @generated from message google.cloud.pubsublite.v1.PublishResponse
 */
export type PublishResponse = Message<"google.cloud.pubsublite.v1.PublishResponse"> & {
  /**
   * The type of response this is.
   *
   * @generated from oneof google.cloud.pubsublite.v1.PublishResponse.response_type
   */
  responseType: {
    /**
     * Initial response on the stream.
     *
     * @generated from field: google.cloud.pubsublite.v1.InitialPublishResponse initial_response = 1;
     */
    value: InitialPublishResponse;
    case: "initialResponse";
  } | {
    /**
     * Response to publishing messages.
     *
     * @generated from field: google.cloud.pubsublite.v1.MessagePublishResponse message_response = 2;
     */
    value: MessagePublishResponse;
    case: "messageResponse";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message google.cloud.pubsublite.v1.PublishResponse.
 * Use `create(PublishResponseSchema)` to create a new message.
 */
export const PublishResponseSchema: GenMessage<PublishResponse> = /*@__PURE__*/
  messageDesc(file_google_cloud_pubsublite_v1_publisher, 5);

/**
 * The service that a publisher client application uses to publish messages to
 * topics. Published messages are retained by the service for the duration of
 * the retention period configured for the respective topic, and are delivered
 * to subscriber clients upon request (via the `SubscriberService`).
 *
 * @generated from service google.cloud.pubsublite.v1.PublisherService
 */
export const PublisherService: GenService<{
  /**
   * Establishes a stream with the server for publishing messages. Once the
   * stream is initialized, the client publishes messages by sending publish
   * requests on the stream. The server responds with a PublishResponse for each
   * PublishRequest sent by the client, in the same order that the requests
   * were sent. Note that multiple PublishRequests can be in flight
   * simultaneously, but they will be processed by the server in the order that
   * they are sent by the client on a given stream.
   *
   * @generated from rpc google.cloud.pubsublite.v1.PublisherService.Publish
   */
  publish: {
    methodKind: "bidi_streaming";
    input: typeof PublishRequestSchema;
    output: typeof PublishResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_google_cloud_pubsublite_v1_publisher, 0);


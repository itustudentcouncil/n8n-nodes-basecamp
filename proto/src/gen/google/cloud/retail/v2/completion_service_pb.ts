// Copyright 2024 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// @generated by protoc-gen-es v2.1.0 with parameter "target=ts"
// @generated from file google/cloud/retail/v2/completion_service.proto (package google.cloud.retail.v2, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv1";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv1";
import { file_google_api_annotations } from "../../../api/annotations_pb";
import { file_google_api_client } from "../../../api/client_pb";
import { file_google_api_field_behavior } from "../../../api/field_behavior_pb";
import { file_google_api_resource } from "../../../api/resource_pb";
import type { CustomAttribute } from "./common_pb";
import { file_google_cloud_retail_v2_common } from "./common_pb";
import type { ImportCompletionDataRequestSchema } from "./import_config_pb";
import { file_google_cloud_retail_v2_import_config } from "./import_config_pb";
import type { OperationSchema } from "../../../longrunning/operations_pb";
import { file_google_longrunning_operations } from "../../../longrunning/operations_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file google/cloud/retail/v2/completion_service.proto.
 */
export const file_google_cloud_retail_v2_completion_service: GenFile = /*@__PURE__*/
  fileDesc("Ci9nb29nbGUvY2xvdWQvcmV0YWlsL3YyL2NvbXBsZXRpb25fc2VydmljZS5wcm90bxIWZ29vZ2xlLmNsb3VkLnJldGFpbC52MiKDAgoUQ29tcGxldGVRdWVyeVJlcXVlc3QSNgoHY2F0YWxvZxgBIAEoCUIl4EEC+kEfCh1yZXRhaWwuZ29vZ2xlYXBpcy5jb20vQ2F0YWxvZxISCgVxdWVyeRgCIAEoCUID4EECEhIKCnZpc2l0b3JfaWQYByABKAkSFgoObGFuZ3VhZ2VfY29kZXMYAyADKAkSEwoLZGV2aWNlX3R5cGUYBCABKAkSDwoHZGF0YXNldBgGIAEoCRIXCg9tYXhfc3VnZ2VzdGlvbnMYBSABKAUSJAocZW5hYmxlX2F0dHJpYnV0ZV9zdWdnZXN0aW9ucxgJIAEoCBIOCgZlbnRpdHkYCiABKAkijQQKFUNvbXBsZXRlUXVlcnlSZXNwb25zZRJaChJjb21wbGV0aW9uX3Jlc3VsdHMYASADKAsyPi5nb29nbGUuY2xvdWQucmV0YWlsLnYyLkNvbXBsZXRlUXVlcnlSZXNwb25zZS5Db21wbGV0aW9uUmVzdWx0EhkKEWF0dHJpYnV0aW9uX3Rva2VuGAIgASgJEmMKFXJlY2VudF9zZWFyY2hfcmVzdWx0cxgDIAMoCzJALmdvb2dsZS5jbG91ZC5yZXRhaWwudjIuQ29tcGxldGVRdWVyeVJlc3BvbnNlLlJlY2VudFNlYXJjaFJlc3VsdEICGAEa5gEKEENvbXBsZXRpb25SZXN1bHQSEgoKc3VnZ2VzdGlvbhgBIAEoCRJiCgphdHRyaWJ1dGVzGAIgAygLMk4uZ29vZ2xlLmNsb3VkLnJldGFpbC52Mi5Db21wbGV0ZVF1ZXJ5UmVzcG9uc2UuQ29tcGxldGlvblJlc3VsdC5BdHRyaWJ1dGVzRW50cnkaWgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRI2CgV2YWx1ZRgCIAEoCzInLmdvb2dsZS5jbG91ZC5yZXRhaWwudjIuQ3VzdG9tQXR0cmlidXRlOgI4ARovChJSZWNlbnRTZWFyY2hSZXN1bHQSFQoNcmVjZW50X3NlYXJjaBgBIAEoCToCGAEysgQKEUNvbXBsZXRpb25TZXJ2aWNlErMBCg1Db21wbGV0ZVF1ZXJ5EiwuZ29vZ2xlLmNsb3VkLnJldGFpbC52Mi5Db21wbGV0ZVF1ZXJ5UmVxdWVzdBotLmdvb2dsZS5jbG91ZC5yZXRhaWwudjIuQ29tcGxldGVRdWVyeVJlc3BvbnNlIkWC0+STAj8SPS92Mi97Y2F0YWxvZz1wcm9qZWN0cy8qL2xvY2F0aW9ucy8qL2NhdGFsb2dzLyp9OmNvbXBsZXRlUXVlcnkSmwIKFEltcG9ydENvbXBsZXRpb25EYXRhEjMuZ29vZ2xlLmNsb3VkLnJldGFpbC52Mi5JbXBvcnRDb21wbGV0aW9uRGF0YVJlcXVlc3QaHS5nb29nbGUubG9uZ3J1bm5pbmcuT3BlcmF0aW9uIq4BykFcCjNnb29nbGUuY2xvdWQucmV0YWlsLnYyLkltcG9ydENvbXBsZXRpb25EYXRhUmVzcG9uc2USJWdvb2dsZS5jbG91ZC5yZXRhaWwudjIuSW1wb3J0TWV0YWRhdGGC0+STAkk6ASoiRC92Mi97cGFyZW50PXByb2plY3RzLyovbG9jYXRpb25zLyovY2F0YWxvZ3MvKn0vY29tcGxldGlvbkRhdGE6aW1wb3J0GknKQRVyZXRhaWwuZ29vZ2xlYXBpcy5jb23SQS5odHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2Nsb3VkLXBsYXRmb3JtQsEBChpjb20uZ29vZ2xlLmNsb3VkLnJldGFpbC52MkIWQ29tcGxldGlvblNlcnZpY2VQcm90b1ABWjJjbG91ZC5nb29nbGUuY29tL2dvL3JldGFpbC9hcGl2Mi9yZXRhaWxwYjtyZXRhaWxwYqICBlJFVEFJTKoCFkdvb2dsZS5DbG91ZC5SZXRhaWwuVjLKAhZHb29nbGVcQ2xvdWRcUmV0YWlsXFYy6gIZR29vZ2xlOjpDbG91ZDo6UmV0YWlsOjpWMmIGcHJvdG8z", [file_google_api_annotations, file_google_api_client, file_google_api_field_behavior, file_google_api_resource, file_google_cloud_retail_v2_common, file_google_cloud_retail_v2_import_config, file_google_longrunning_operations]);

/**
 * Autocomplete parameters.
 *
 * @generated from message google.cloud.retail.v2.CompleteQueryRequest
 */
export type CompleteQueryRequest = Message<"google.cloud.retail.v2.CompleteQueryRequest"> & {
  /**
   * Required. Catalog for which the completion is performed.
   *
   * Full resource name of catalog, such as
   * `projects/*\/locations/global/catalogs/default_catalog`.
   *
   * @generated from field: string catalog = 1;
   */
  catalog: string;

  /**
   * Required. The query used to generate suggestions.
   *
   * The maximum number of allowed characters is 255.
   *
   * @generated from field: string query = 2;
   */
  query: string;

  /**
   * Required field. A unique identifier for tracking visitors. For example,
   * this could be implemented with an HTTP cookie, which should be able to
   * uniquely identify a visitor on a single device. This unique identifier
   * should not change if the visitor logs in or out of the website.
   *
   * The field must be a UTF-8 encoded string with a length limit of 128
   * characters. Otherwise, an INVALID_ARGUMENT error is returned.
   *
   * @generated from field: string visitor_id = 7;
   */
  visitorId: string;

  /**
   * Note that this field applies for `user-data` dataset only. For requests
   * with `cloud-retail` dataset, setting this field has no effect.
   *
   * The language filters applied to the output suggestions. If set, it should
   * contain the language of the query. If not set, suggestions are returned
   * without considering language restrictions. This is the BCP-47 language
   * code, such as "en-US" or "sr-Latn". For more information, see [Tags for
   * Identifying Languages](https://tools.ietf.org/html/bcp47). The maximum
   * number of language codes is 3.
   *
   * @generated from field: repeated string language_codes = 3;
   */
  languageCodes: string[];

  /**
   * The device type context for completion suggestions. We recommend that you
   * leave this field empty.
   *
   * It can apply different suggestions on different device types, e.g.
   * `DESKTOP`, `MOBILE`. If it is empty, the suggestions are across all device
   * types.
   *
   * Supported formats:
   *
   * * `UNKNOWN_DEVICE_TYPE`
   *
   * * `DESKTOP`
   *
   * * `MOBILE`
   *
   * * A customized string starts with `OTHER_`, e.g. `OTHER_IPHONE`.
   *
   * @generated from field: string device_type = 4;
   */
  deviceType: string;

  /**
   * Determines which dataset to use for fetching completion. "user-data" will
   * use the imported dataset through
   * [CompletionService.ImportCompletionData][google.cloud.retail.v2.CompletionService.ImportCompletionData].
   * "cloud-retail" will use the dataset generated by cloud retail based on user
   * events. If leave empty, it will use the "user-data".
   *
   * Current supported values:
   *
   * * user-data
   *
   * * cloud-retail:
   *   This option requires enabling auto-learning function first. See
   *   [guidelines](https://cloud.google.com/retail/docs/completion-overview#generated-completion-dataset).
   *
   * @generated from field: string dataset = 6;
   */
  dataset: string;

  /**
   * Completion max suggestions. If left unset or set to 0, then will fallback
   * to the configured value
   * [CompletionConfig.max_suggestions][google.cloud.retail.v2.CompletionConfig.max_suggestions].
   *
   * The maximum allowed max suggestions is 20. If it is set higher, it will be
   * capped by 20.
   *
   * @generated from field: int32 max_suggestions = 5;
   */
  maxSuggestions: number;

  /**
   * If true, attribute suggestions are enabled and provided in response.
   *
   * This field is only available for "cloud-retail" dataset.
   *
   * @generated from field: bool enable_attribute_suggestions = 9;
   */
  enableAttributeSuggestions: boolean;

  /**
   * The entity for customers who run multiple entities, domains, sites, or
   * regions, for example, `Google US`, `Google Ads`, `Waymo`,
   * `google.com`, `youtube.com`, etc.
   * If this is set, it must be an exact match with
   * [UserEvent.entity][google.cloud.retail.v2.UserEvent.entity] to get
   * per-entity autocomplete results.
   *
   * @generated from field: string entity = 10;
   */
  entity: string;
};

/**
 * Describes the message google.cloud.retail.v2.CompleteQueryRequest.
 * Use `create(CompleteQueryRequestSchema)` to create a new message.
 */
export const CompleteQueryRequestSchema: GenMessage<CompleteQueryRequest> = /*@__PURE__*/
  messageDesc(file_google_cloud_retail_v2_completion_service, 0);

/**
 * Response of the autocomplete query.
 *
 * @generated from message google.cloud.retail.v2.CompleteQueryResponse
 */
export type CompleteQueryResponse = Message<"google.cloud.retail.v2.CompleteQueryResponse"> & {
  /**
   * Results of the matching suggestions. The result list is ordered and the
   * first result is top suggestion.
   *
   * @generated from field: repeated google.cloud.retail.v2.CompleteQueryResponse.CompletionResult completion_results = 1;
   */
  completionResults: CompleteQueryResponse_CompletionResult[];

  /**
   * A unique complete token. This should be included in the
   * [UserEvent.completion_detail][google.cloud.retail.v2.UserEvent.completion_detail]
   * for search events resulting from this completion, which enables accurate
   * attribution of complete model performance.
   *
   * @generated from field: string attribution_token = 2;
   */
  attributionToken: string;

  /**
   * Deprecated. Matched recent searches of this user. The maximum number of
   * recent searches is 10. This field is a restricted feature. If you want to
   * enable it, contact Retail Search support.
   *
   * This feature is only available when
   * [CompleteQueryRequest.visitor_id][google.cloud.retail.v2.CompleteQueryRequest.visitor_id]
   * field is set and [UserEvent][google.cloud.retail.v2.UserEvent] is imported.
   * The recent searches satisfy the follow rules:
   *
   *  * They are ordered from latest to oldest.
   *
   *  * They are matched with
   *  [CompleteQueryRequest.query][google.cloud.retail.v2.CompleteQueryRequest.query]
   *  case insensitively.
   *
   *  * They are transformed to lower case.
   *
   *  * They are UTF-8 safe.
   *
   * Recent searches are deduplicated. More recent searches will be reserved
   * when duplication happens.
   *
   * @generated from field: repeated google.cloud.retail.v2.CompleteQueryResponse.RecentSearchResult recent_search_results = 3 [deprecated = true];
   * @deprecated
   */
  recentSearchResults: CompleteQueryResponse_RecentSearchResult[];
};

/**
 * Describes the message google.cloud.retail.v2.CompleteQueryResponse.
 * Use `create(CompleteQueryResponseSchema)` to create a new message.
 */
export const CompleteQueryResponseSchema: GenMessage<CompleteQueryResponse> = /*@__PURE__*/
  messageDesc(file_google_cloud_retail_v2_completion_service, 1);

/**
 * Resource that represents completion results.
 *
 * @generated from message google.cloud.retail.v2.CompleteQueryResponse.CompletionResult
 */
export type CompleteQueryResponse_CompletionResult = Message<"google.cloud.retail.v2.CompleteQueryResponse.CompletionResult"> & {
  /**
   * The suggestion for the query.
   *
   * @generated from field: string suggestion = 1;
   */
  suggestion: string;

  /**
   * Custom attributes for the suggestion term.
   *
   * * For "user-data", the attributes are additional custom attributes
   * ingested through BigQuery.
   *
   * * For "cloud-retail", the attributes are product attributes generated
   * by Cloud Retail. It requires
   * [UserEvent.product_details][google.cloud.retail.v2.UserEvent.product_details]
   * is imported properly.
   *
   * @generated from field: map<string, google.cloud.retail.v2.CustomAttribute> attributes = 2;
   */
  attributes: { [key: string]: CustomAttribute };
};

/**
 * Describes the message google.cloud.retail.v2.CompleteQueryResponse.CompletionResult.
 * Use `create(CompleteQueryResponse_CompletionResultSchema)` to create a new message.
 */
export const CompleteQueryResponse_CompletionResultSchema: GenMessage<CompleteQueryResponse_CompletionResult> = /*@__PURE__*/
  messageDesc(file_google_cloud_retail_v2_completion_service, 1, 0);

/**
 * Deprecated: Recent search of this user.
 *
 * @generated from message google.cloud.retail.v2.CompleteQueryResponse.RecentSearchResult
 * @deprecated
 */
export type CompleteQueryResponse_RecentSearchResult = Message<"google.cloud.retail.v2.CompleteQueryResponse.RecentSearchResult"> & {
  /**
   * The recent search query.
   *
   * @generated from field: string recent_search = 1;
   */
  recentSearch: string;
};

/**
 * Describes the message google.cloud.retail.v2.CompleteQueryResponse.RecentSearchResult.
 * Use `create(CompleteQueryResponse_RecentSearchResultSchema)` to create a new message.
 * @deprecated
 */
export const CompleteQueryResponse_RecentSearchResultSchema: GenMessage<CompleteQueryResponse_RecentSearchResult> = /*@__PURE__*/
  messageDesc(file_google_cloud_retail_v2_completion_service, 1, 1);

/**
 * Autocomplete service for retail.
 *
 * This feature is only available for users who have Retail Search enabled.
 * Enable Retail Search on Cloud Console before using this feature.
 *
 * @generated from service google.cloud.retail.v2.CompletionService
 */
export const CompletionService: GenService<{
  /**
   * Completes the specified prefix with keyword suggestions.
   *
   * This feature is only available for users who have Retail Search enabled.
   * Enable Retail Search on Cloud Console before using this feature.
   *
   * @generated from rpc google.cloud.retail.v2.CompletionService.CompleteQuery
   */
  completeQuery: {
    methodKind: "unary";
    input: typeof CompleteQueryRequestSchema;
    output: typeof CompleteQueryResponseSchema;
  },
  /**
   * Bulk import of processed completion dataset.
   *
   * Request processing is asynchronous. Partial updating is not supported.
   *
   * The operation is successfully finished only after the imported suggestions
   * are indexed successfully and ready for serving. The process takes hours.
   *
   * This feature is only available for users who have Retail Search enabled.
   * Enable Retail Search on Cloud Console before using this feature.
   *
   * @generated from rpc google.cloud.retail.v2.CompletionService.ImportCompletionData
   */
  importCompletionData: {
    methodKind: "unary";
    input: typeof ImportCompletionDataRequestSchema;
    output: typeof OperationSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_google_cloud_retail_v2_completion_service, 0);


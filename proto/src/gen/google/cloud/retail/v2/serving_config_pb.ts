// Copyright 2024 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// @generated by protoc-gen-es v2.1.0 with parameter "target=ts"
// @generated from file google/cloud/retail/v2/serving_config.proto (package google.cloud.retail.v2, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv1";
import { enumDesc, fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv1";
import { file_google_api_field_behavior } from "../../../api/field_behavior_pb";
import { file_google_api_resource } from "../../../api/resource_pb";
import type { SolutionType } from "./common_pb";
import { file_google_cloud_retail_v2_common } from "./common_pb";
import type { SearchRequest_DynamicFacetSpec, SearchRequest_PersonalizationSpec } from "./search_service_pb";
import { file_google_cloud_retail_v2_search_service } from "./search_service_pb";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file google/cloud/retail/v2/serving_config.proto.
 */
export const file_google_cloud_retail_v2_serving_config: GenFile = /*@__PURE__*/
  fileDesc("Citnb29nbGUvY2xvdWQvcmV0YWlsL3YyL3NlcnZpbmdfY29uZmlnLnByb3RvEhZnb29nbGUuY2xvdWQucmV0YWlsLnYyIpYICg1TZXJ2aW5nQ29uZmlnEhEKBG5hbWUYASABKAlCA+BBBRIZCgxkaXNwbGF5X25hbWUYAiABKAlCA+BBAhIQCghtb2RlbF9pZBgDIAEoCRIdChVwcmljZV9yZXJhbmtpbmdfbGV2ZWwYBCABKAkSGQoRZmFjZXRfY29udHJvbF9pZHMYBSADKAkSUgoSZHluYW1pY19mYWNldF9zcGVjGAYgASgLMjYuZ29vZ2xlLmNsb3VkLnJldGFpbC52Mi5TZWFyY2hSZXF1ZXN0LkR5bmFtaWNGYWNldFNwZWMSGQoRYm9vc3RfY29udHJvbF9pZHMYByADKAkSGgoSZmlsdGVyX2NvbnRyb2xfaWRzGAkgAygJEhwKFHJlZGlyZWN0X2NvbnRyb2xfaWRzGAogAygJEiMKG3R3b3dheV9zeW5vbnltc19jb250cm9sX2lkcxgSIAMoCRIjChtvbmV3YXlfc3lub255bXNfY29udHJvbF9pZHMYDCADKAkSJAocZG9fbm90X2Fzc29jaWF0ZV9jb250cm9sX2lkcxgNIAMoCRIfChdyZXBsYWNlbWVudF9jb250cm9sX2lkcxgOIAMoCRIaChJpZ25vcmVfY29udHJvbF9pZHMYDyADKAkSFwoPZGl2ZXJzaXR5X2xldmVsGAggASgJEksKDmRpdmVyc2l0eV90eXBlGBQgASgOMjMuZ29vZ2xlLmNsb3VkLnJldGFpbC52Mi5TZXJ2aW5nQ29uZmlnLkRpdmVyc2l0eVR5cGUSJAocZW5hYmxlX2NhdGVnb3J5X2ZpbHRlcl9sZXZlbBgQIAEoCRIcChRpZ25vcmVfcmVjc19kZW55bGlzdBgYIAEoCBJXChRwZXJzb25hbGl6YXRpb25fc3BlYxgVIAEoCzI5Lmdvb2dsZS5jbG91ZC5yZXRhaWwudjIuU2VhcmNoUmVxdWVzdC5QZXJzb25hbGl6YXRpb25TcGVjEkQKDnNvbHV0aW9uX3R5cGVzGBMgAygOMiQuZ29vZ2xlLmNsb3VkLnJldGFpbC52Mi5Tb2x1dGlvblR5cGVCBuBBAuBBBSJkCg1EaXZlcnNpdHlUeXBlEh4KGkRJVkVSU0lUWV9UWVBFX1VOU1BFQ0lGSUVEEAASGAoUUlVMRV9CQVNFRF9ESVZFUlNJVFkQAhIZChVEQVRBX0RSSVZFTl9ESVZFUlNJVFkQAzqFAepBgQEKI3JldGFpbC5nb29nbGVhcGlzLmNvbS9TZXJ2aW5nQ29uZmlnElpwcm9qZWN0cy97cHJvamVjdH0vbG9jYXRpb25zL3tsb2NhdGlvbn0vY2F0YWxvZ3Mve2NhdGFsb2d9L3NlcnZpbmdDb25maWdzL3tzZXJ2aW5nX2NvbmZpZ31CvQEKGmNvbS5nb29nbGUuY2xvdWQucmV0YWlsLnYyQhJTZXJ2aW5nQ29uZmlnUHJvdG9QAVoyY2xvdWQuZ29vZ2xlLmNvbS9nby9yZXRhaWwvYXBpdjIvcmV0YWlscGI7cmV0YWlscGKiAgZSRVRBSUyqAhZHb29nbGUuQ2xvdWQuUmV0YWlsLlYyygIWR29vZ2xlXENsb3VkXFJldGFpbFxWMuoCGUdvb2dsZTo6Q2xvdWQ6OlJldGFpbDo6VjJiBnByb3RvMw", [file_google_api_field_behavior, file_google_api_resource, file_google_cloud_retail_v2_common, file_google_cloud_retail_v2_search_service]);

/**
 * Configures metadata that is used to generate serving time results (e.g.
 * search results or recommendation predictions).
 *
 * @generated from message google.cloud.retail.v2.ServingConfig
 */
export type ServingConfig = Message<"google.cloud.retail.v2.ServingConfig"> & {
  /**
   * Immutable. Fully qualified name
   * `projects/*\/locations/global/catalogs/*\/servingConfig/*`
   *
   * @generated from field: string name = 1;
   */
  name: string;

  /**
   * Required. The human readable serving config display name. Used in Retail
   * UI.
   *
   * This field must be a UTF-8 encoded string with a length limit of 128
   * characters. Otherwise, an INVALID_ARGUMENT error is returned.
   *
   * @generated from field: string display_name = 2;
   */
  displayName: string;

  /**
   * The id of the model in the same [Catalog][google.cloud.retail.v2.Catalog]
   * to use at serving time. Currently only RecommendationModels are supported:
   * https://cloud.google.com/retail/recommendations-ai/docs/create-models
   * Can be changed but only to a compatible model (e.g.
   * others-you-may-like CTR to others-you-may-like CVR).
   *
   * Required when
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_RECOMMENDATION][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_RECOMMENDATION].
   *
   * @generated from field: string model_id = 3;
   */
  modelId: string;

  /**
   * How much price ranking we want in serving results.
   * Price reranking causes product items with a similar
   * recommendation probability to be ordered by price, with the
   * highest-priced items first. This setting could result in a decrease in
   * click-through and conversion rates.
   *  Allowed values are:
   *
   * * `no-price-reranking`
   * * `low-price-reranking`
   * * `medium-price-reranking`
   * * `high-price-reranking`
   *
   * If not specified, we choose default based on model type. Default value:
   * `no-price-reranking`.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_RECOMMENDATION][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_RECOMMENDATION].
   *
   * @generated from field: string price_reranking_level = 4;
   */
  priceRerankingLevel: string;

  /**
   * Facet specifications for faceted search. If empty, no facets are returned.
   * The ids refer to the ids of [Control][google.cloud.retail.v2.Control]
   * resources with only the Facet control set. These controls are assumed to be
   * in the same [Catalog][google.cloud.retail.v2.Catalog] as the
   * [ServingConfig][google.cloud.retail.v2.ServingConfig].
   * A maximum of 100 values are allowed. Otherwise, an INVALID_ARGUMENT error
   * is returned.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string facet_control_ids = 5;
   */
  facetControlIds: string[];

  /**
   * The specification for dynamically generated facets. Notice that only
   * textual facets can be dynamically generated.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: google.cloud.retail.v2.SearchRequest.DynamicFacetSpec dynamic_facet_spec = 6;
   */
  dynamicFacetSpec?: SearchRequest_DynamicFacetSpec;

  /**
   * Condition boost specifications. If a product matches multiple conditions
   * in the specifications, boost scores from these specifications are all
   * applied and combined in a non-linear way. Maximum number of
   * specifications is 100.
   *
   * Notice that if both
   * [ServingConfig.boost_control_ids][google.cloud.retail.v2.ServingConfig.boost_control_ids]
   * and
   * [SearchRequest.boost_spec][google.cloud.retail.v2.SearchRequest.boost_spec]
   * are set, the boost conditions from both places are evaluated. If a search
   * request matches multiple boost conditions, the final boost score is equal
   * to the sum of the boost scores from all matched boost conditions.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string boost_control_ids = 7;
   */
  boostControlIds: string[];

  /**
   * Condition filter specifications. If a product matches multiple conditions
   * in the specifications, filters from these specifications are all
   * applied and combined via the AND operator. Maximum number of
   * specifications is 100.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string filter_control_ids = 9;
   */
  filterControlIds: string[];

  /**
   * Condition redirect specifications. Only the first triggered redirect action
   * is applied, even if multiple apply. Maximum number of specifications is
   * 1000.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string redirect_control_ids = 10;
   */
  redirectControlIds: string[];

  /**
   * Condition synonyms specifications. If multiple syonyms conditions match,
   * all matching synonyms control in the list will execute. Order of controls
   * in the list will not matter. Maximum number of specifications is
   * 100.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string twoway_synonyms_control_ids = 18;
   */
  twowaySynonymsControlIds: string[];

  /**
   * Condition oneway synonyms specifications. If multiple oneway synonyms
   * conditions match, all matching oneway synonyms controls in the list will
   * execute. Order of controls in the list will not matter. Maximum number of
   * specifications is 100.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string oneway_synonyms_control_ids = 12;
   */
  onewaySynonymsControlIds: string[];

  /**
   * Condition do not associate specifications. If multiple do not associate
   * conditions match, all matching do not associate controls in the list will
   * execute.
   * - Order does not matter.
   * - Maximum number of specifications is 100.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string do_not_associate_control_ids = 13;
   */
  doNotAssociateControlIds: string[];

  /**
   * Condition replacement specifications.
   * - Applied according to the order in the list.
   * - A previously replaced term can not be re-replaced.
   * - Maximum number of specifications is 100.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string replacement_control_ids = 14;
   */
  replacementControlIds: string[];

  /**
   * Condition ignore specifications. If multiple ignore
   * conditions match, all matching ignore controls in the list will
   * execute.
   * - Order does not matter.
   * - Maximum number of specifications is 100.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * @generated from field: repeated string ignore_control_ids = 15;
   */
  ignoreControlIds: string[];

  /**
   * How much diversity to use in recommendation model results e.g.
   * `medium-diversity` or `high-diversity`. Currently supported values:
   *
   * * `no-diversity`
   * * `low-diversity`
   * * `medium-diversity`
   * * `high-diversity`
   * * `auto-diversity`
   *
   * If not specified, we choose default based on recommendation model
   * type. Default value: `no-diversity`.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_RECOMMENDATION][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_RECOMMENDATION].
   *
   * @generated from field: string diversity_level = 8;
   */
  diversityLevel: string;

  /**
   * What kind of diversity to use - data driven or rule based. If unset, the
   * server behavior defaults to
   * [RULE_BASED_DIVERSITY][google.cloud.retail.v2.ServingConfig.DiversityType.RULE_BASED_DIVERSITY].
   *
   * @generated from field: google.cloud.retail.v2.ServingConfig.DiversityType diversity_type = 20;
   */
  diversityType: ServingConfig_DiversityType;

  /**
   * Whether to add additional category filters on the `similar-items` model.
   * If not specified, we enable it by default.
   *  Allowed values are:
   *
   * * `no-category-match`: No additional filtering of original results from
   *   the model and the customer's filters.
   * * `relaxed-category-match`: Only keep results with categories that match
   *   at least one item categories in the PredictRequests's context item.
   *   * If customer also sends filters in the PredictRequest, then the results
   *   will satisfy both conditions (user given and category match).
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_RECOMMENDATION][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_RECOMMENDATION].
   *
   * @generated from field: string enable_category_filter_level = 16;
   */
  enableCategoryFilterLevel: string;

  /**
   * When the flag is enabled, the products in the denylist will not be filtered
   * out in the recommendation filtering results.
   *
   * @generated from field: bool ignore_recs_denylist = 24;
   */
  ignoreRecsDenylist: boolean;

  /**
   * The specification for personalization spec.
   *
   * Can only be set if
   * [solution_types][google.cloud.retail.v2.ServingConfig.solution_types] is
   * [SOLUTION_TYPE_SEARCH][google.cloud.retail.v2main.SolutionType.SOLUTION_TYPE_SEARCH].
   *
   * Notice that if both
   * [ServingConfig.personalization_spec][google.cloud.retail.v2.ServingConfig.personalization_spec]
   * and
   * [SearchRequest.personalization_spec][google.cloud.retail.v2.SearchRequest.personalization_spec]
   * are set.
   * [SearchRequest.personalization_spec][google.cloud.retail.v2.SearchRequest.personalization_spec]
   * will override
   * [ServingConfig.personalization_spec][google.cloud.retail.v2.ServingConfig.personalization_spec].
   *
   * @generated from field: google.cloud.retail.v2.SearchRequest.PersonalizationSpec personalization_spec = 21;
   */
  personalizationSpec?: SearchRequest_PersonalizationSpec;

  /**
   * Required. Immutable. Specifies the solution types that a serving config can
   * be associated with. Currently we support setting only one type of solution.
   *
   * @generated from field: repeated google.cloud.retail.v2.SolutionType solution_types = 19;
   */
  solutionTypes: SolutionType[];
};

/**
 * Describes the message google.cloud.retail.v2.ServingConfig.
 * Use `create(ServingConfigSchema)` to create a new message.
 */
export const ServingConfigSchema: GenMessage<ServingConfig> = /*@__PURE__*/
  messageDesc(file_google_cloud_retail_v2_serving_config, 0);

/**
 * What type of diversity - data or rule based.
 *
 * @generated from enum google.cloud.retail.v2.ServingConfig.DiversityType
 */
export enum ServingConfig_DiversityType {
  /**
   * Default value.
   *
   * @generated from enum value: DIVERSITY_TYPE_UNSPECIFIED = 0;
   */
  DIVERSITY_TYPE_UNSPECIFIED = 0,

  /**
   * Rule based diversity.
   *
   * @generated from enum value: RULE_BASED_DIVERSITY = 2;
   */
  RULE_BASED_DIVERSITY = 2,

  /**
   * Data driven diversity.
   *
   * @generated from enum value: DATA_DRIVEN_DIVERSITY = 3;
   */
  DATA_DRIVEN_DIVERSITY = 3,
}

/**
 * Describes the enum google.cloud.retail.v2.ServingConfig.DiversityType.
 */
export const ServingConfig_DiversityTypeSchema: GenEnum<ServingConfig_DiversityType> = /*@__PURE__*/
  enumDesc(file_google_cloud_retail_v2_serving_config, 0, 0);

